(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7652:function(e,t,s){Promise.resolve().then(s.bind(s,1457))},1457:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return D}});var a=s(7437),l=s(6648),r={src:"/_next/static/media/coin.0e152ff8.svg",height:20,width:20,blurWidth:0,blurHeight:0};function n(){return(0,a.jsxs)("div",{className:"w-full grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{className:"w-full h-[84px] p-4 flex flex-col justify-between bg-black-1 rounded-xl shadow border border-[#8082a3]",children:[(0,a.jsx)("p",{className:"text-[#e9eaee] text-[10px]",children:"Пригласить друзей"}),(0,a.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,a.jsx)(l.default,{alt:"",src:r}),(0,a.jsx)("span",{className:"text-[#d50013] text-base font-bold",children:"+10,000"})]})]}),(0,a.jsxs)("div",{className:"w-full h-[84px] p-4 flex flex-col justify-between bg-black-1 rounded-xl shadow border border-[#8082a3]",children:[(0,a.jsx)("p",{className:"text-[#e9eaee] text-[10px]",children:"Пригласить друзей с Telegram Premium"}),(0,a.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,a.jsx)(l.default,{alt:"",src:r}),(0,a.jsx)("span",{className:"text-[#d50013] text-base font-bold",children:"+20,000"})]})]})]})}var d=s(2265),i=function(){let[e,t]=(0,d.useState)({});return(0,d.useEffect)(()=>{var e,s,a;let l=Object.fromEntries(new URLSearchParams(null===(a=window)||void 0===a?void 0:null===(s=a.Telegram)||void 0===s?void 0:null===(e=s.WebApp)||void 0===e?void 0:e.initData)),r={};for(let e in l)try{r[e]=JSON.parse(l[e])}catch(t){r[e]=l[e]}t(r)},[]),e};let c=s(8472).Z.create({baseURL:"https://h163879.srv11.test-hf.su/race_ston/api",timeout:1e5}),o=async e=>{var t;let s=[];if(!e)return s;let a=await c.get("/balance.php",{params:{tg_id:e}});return(null===(t=a.data)||void 0===t?void 0:t.error)?s:a.data};function x(e){let{src:t}=e;return t}function u(e){let{name:t,photo:s,coins:n}=e;return(0,a.jsxs)("div",{className:"w-full p-2.5 flex items-center justify-between bg-black-1 rounded-xl shadow border border-[#8082a3]",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,a.jsx)(l.default,{width:36,height:36,alt:"",loader:x,className:"rounded-[50%]",src:s}),(0,a.jsxs)("div",{className:"flex justify-between flex-col gap-1",children:[(0,a.jsx)("h3",{className:"text-[#e9eaee] text-sm",children:t}),(0,a.jsx)("span",{className:"text-[#6a6d74] text-[10px]",children:"Stones: 1/6"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(l.default,{alt:"",src:r}),(0,a.jsx)("span",{className:"text-[#e9eaee] text-base font-bold",children:n})]})]})}var f={src:"/_next/static/media/circle-arrow.c921d4a8.svg",height:32,width:32,blurWidth:0,blurHeight:0};function m(){var e,t,s;let{user:n}=i(),[c,m]=(0,d.useState)({balance:0,friends:0,friends_list:[]});return(0,d.useEffect)(()=>{o(null==n?void 0:n.id).then(e=>{console.log("res",e),m(e)})},[n]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h3",{className:"mt-6 mb-3 text-[#6a6d74] text-base",children:"Ваш баланс:"}),(0,a.jsxs)("div",{className:"w-full p-2.5 flex items-center justify-between bg-black-1 rounded-xl shadow border border-[#8082a3]",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,a.jsx)(l.default,{width:36,height:36,alt:"",loader:x,className:"rounded-[50%]",src:r}),(0,a.jsx)("h3",{className:"text-[#e9eaee] text-xl",children:null==c?void 0:c.balance}),(0,a.jsx)("span",{className:"block w-[1px] h-[32px] bg-[#e9eaee] ml-5 mr-4"}),(0,a.jsxs)("div",{className:"flex justify-between flex-col gap-1",children:[(0,a.jsx)("h3",{className:"text-[#e9eaee] text-sm",children:"---"}),(0,a.jsx)("span",{className:"text-[#e9eaee] text-[10px]",children:"до следующего уровня"})]})]}),(0,a.jsx)(l.default,{alt:"",src:f})]}),(0,a.jsxs)("h3",{className:"mt-6 mb-3 text-[#6a6d74] text-base",children:["Ваши друзья (",null==c?void 0:null===(e=c.friends_list)||void 0===e?void 0:e.length,"):"]}),(0,a.jsx)("div",{className:"flex flex-col gap-2",children:(null==c?void 0:null===(t=c.friends_list)||void 0===t?void 0:t.length)>0?null==c?void 0:null===(s=c.friends_list)||void 0===s?void 0:s.map((e,t)=>(0,d.createElement)(u,{...e,key:t})):(0,a.jsx)("p",{className:"text-center",children:"Пусто"})})]})}var h=s(5295),p=s(7440);let b=e=>{let{shouldScaleBackground:t=!0,...s}=e;return(0,a.jsx)(h.d.Root,{shouldScaleBackground:t,...s})};b.displayName="Drawer";let j=h.d.Trigger,N=h.d.Portal,v=h.d.Close,g=d.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(h.d.Overlay,{ref:t,className:(0,p.cn)("fixed inset-0 z-50 bg-black/80",s),...l})});g.displayName=h.d.Overlay.displayName;let w=d.forwardRef((e,t)=>{let{className:s,children:l,...r}=e;return(0,a.jsxs)(N,{children:[(0,a.jsx)(g,{}),(0,a.jsxs)(h.d.Content,{ref:t,className:(0,p.cn)("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",s),...r,children:[(0,a.jsx)("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),l]})]})});w.displayName="DrawerContent";let y=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,p.cn)("grid gap-1.5 p-4 text-center sm:text-left",t),...s})};y.displayName="DrawerHeader";let T=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,p.cn)("mt-auto flex flex-col gap-2 p-4",t),...s})};T.displayName="DrawerFooter";let S=d.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(h.d.Title,{ref:t,className:(0,p.cn)("text-lg font-semibold leading-none tracking-tight",s),...l})});S.displayName=h.d.Title.displayName;let _=d.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(h.d.Description,{ref:t,className:(0,p.cn)("text-sm text-muted-foreground",s),...l})});_.displayName=h.d.Description.displayName;var E=s(5657);function D(){let[e,t]=(0,d.useState)(null),{user:s}=i(),{toast:l}=(0,E.pm)();(0,d.useEffect)(()=>{window.Telegram.WebApp&&window.Telegram.WebApp.expand()},[]),(0,d.useEffect)(()=>{t("https://t.me/race_ston_bot?start="+(null==s?void 0:s.id))},[s]);let r=async()=>{if(navigator.clipboard)try{null!=e&&(await navigator.clipboard.writeText(e),l({description:"Текст скопирован"}))}catch(e){console.error("Failed to copy text: ",e)}else console.warn("Clipboard API not available")};return(0,a.jsxs)("main",{className:"px-3 pt-8 pb-6 flex flex-col justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"uppercase text-center text-2xl font-bold mb-4",children:"ПРИГЛАСИТЕ ДРУЗЕЙ"}),(0,a.jsx)("p",{className:"text-center text-[#6a6d74] text-xs max-w-[80%] tracking-wide mx-auto mb-6",children:"Вы и ваши друзья получает бонусы и дополнительные монеты"}),(0,a.jsx)(n,{}),(0,a.jsx)(m,{})]}),(0,a.jsxs)(b,{children:[(0,a.jsx)(j,{asChild:!0,children:(0,a.jsx)("button",{className:"w-full py-4 bg-[#ba101f] rounded-[10px]",children:(0,a.jsx)("span",{className:"text-center text-[#e9eaee] text-sm font-bold",children:"Пригласить друга"})})}),(0,a.jsxs)(w,{className:"bg-black-1 shadow border border-x-0 border-b-0 border-[#8082a3] rounded-t-2xl",children:[(0,a.jsx)("div",{className:"mx-auto w-full max-w-sm",children:(0,a.jsxs)(y,{children:[(0,a.jsx)(S,{className:"text-[#e9eaee] text-base font-bold",children:"ПРИГЛАСИТЬ ДРУГА"}),(0,a.jsx)(_,{className:"text-[#6a6d74] text-xs",children:"Приглашай друзей и зарабатывай вместе"})]})}),(0,a.jsxs)("div",{className:"w-full px-3 py-3",children:[(0,a.jsx)(v,{asChild:!0,children:(0,a.jsx)("button",{className:"w-full py-4 bg-[#ba101f] rounded-[10px] mb-3",onClick:r,children:(0,a.jsx)("span",{className:"text-center text-[#e9eaee] text-sm font-bold",children:"Скопировать ссылку"})})}),(0,a.jsx)("a",{href:"https://t.me/share/url?url="+e+"&text=\nПриветствую! Приглашаю тебя в новый онлайн проект \uD83E\uDD16 Race Stone!\nЗалетай уже на стадии бета-версии бота, где ты сможешь собрать первоначальные монеты, приглашая друзей!\nБудь первым! Количество участников бета-тестирования ограничено \uD83E\uDD2B",className:"block text-center w-full py-4 bg-[#ba101f] rounded-[10px]",children:(0,a.jsx)("span",{className:"text-center text-[#e9eaee] text-sm font-bold",children:"Отправить"})})]}),(0,a.jsx)(T,{children:(0,a.jsx)(v,{asChild:!0,children:(0,a.jsx)("span",{className:"text-center text-[#d6d6d6] text-sm font-bold",children:"Закрыть"})})})]})]})]})}},5657:function(e,t,s){"use strict";s.d(t,{pm:function(){return u}});var a=s(2265);let l=0,r=new Map,n=e=>{if(r.has(e))return;let t=setTimeout(()=>{r.delete(e),o({type:"REMOVE_TOAST",toastId:e})},1e6);r.set(e,t)},d=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?n(s):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},i=[],c={toasts:[]};function o(e){c=d(c,e),i.forEach(e=>{e(c)})}function x(e){let{...t}=e,s=(l=(l+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>o({type:"DISMISS_TOAST",toastId:s});return o({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||a()}}}),{id:s,dismiss:a,update:e=>o({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function u(){let[e,t]=a.useState(c);return a.useEffect(()=>(i.push(t),()=>{let e=i.indexOf(t);e>-1&&i.splice(e,1)}),[e]),{...e,toast:x,dismiss:e=>o({type:"DISMISS_TOAST",toastId:e})}}},7440:function(e,t,s){"use strict";s.d(t,{cn:function(){return r}});var a=s(4839),l=s(6164);function r(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,l.m6)((0,a.W)(t))}}},function(e){e.O(0,[461,336,971,23,744],function(){return e(e.s=7652)}),_N_E=e.O()}]);